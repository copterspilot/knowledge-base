Эффективность кэширования — это способность системы минимизировать время доступа к данным и снижать нагрузку на первичные источники (БД, API) за счёт оптимального использования кэша. Оценивается по следующим критериям:  
1. **Высокий Hit Ratio** — процент успешных обращений к кэшу (попаданий).  
2. **Низкая Latency** — сокращение времени отклика для пользователей.  
3. **Снижение нагрузки** на БД/бэкенд.  
4. **Отсутствие устаревших данных** (stale data).  

---

### **Проверочный вопрос**  
**Какой показатель лучше всего отражает эффективность кэширования в системе, где 85% запросов обслуживаются кэшем, а время отклика уменьшилось с 200 мс до 10 мс?**  

- а) Количество узлов в кластере Redis  
- б) **Hit Ratio = 85%**  
- в) Размер кэша в гигабайтах  
- г) Частота обновления данных в БД  

**Правильный ответ:** б) **Hit Ratio = 85%**  
*Пояснение:* Hit Ratio — ключевой метрический показатель, так как он напрямую отражает, насколько часто кэш предотвращает обращение к медленным источникам данных. Уменьшение времени отклика (latency) — следствие высокого Hit Ratio.*

---

### **Дополнительные критерии эффективности**  
Для комплексной оценки также учитывают:  
1. **Скорость восстановления после промахов (Cache Miss Penalty)**.  
   - Пример: Если при промахе данные загружаются из БД за 50 мс вместо 200 мс, кэш всё равно эффективен.  
2. **Равномерность распределения нагрузки** (отсутствие hot keys).  
3. **Соответствие данных актуальному состоянию** (проверяется через мониторинг инвалидации).  

**Тестовый вопрос на углубление:**  
**Система с Hit Ratio 90% и средним временем отклика 5 мс внезапно стала возвращать устаревшие данные. В чём вероятная причина?**  
- а) **Сбой инвалидации кэша**  
- б) Увеличение размера кэша  
- в) Рост количества узлов кластера  

**Ответ:** а) *Сбой инвалидации кэша* (например, TTL не обновляется при изменениях в БД).  

---

### **Итог**  
Эффективность кэширования — это баланс между:  
- **Hit Ratio** (чем выше, тем лучше).  
- **Актуальностью данных** (минимум stale data).  
- **Производительностью** (снижение latency и нагрузки).  

**Практическое правило:**  
Если Hit Ratio > 80%, а latency упала в 2+ раза — кэширование работает хорошо.
