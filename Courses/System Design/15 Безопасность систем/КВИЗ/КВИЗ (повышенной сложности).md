**1. В контексте Zero Trust Architecture, какая модель сегментации сети наиболее эффективно ограничивает движение трафика между микросервисами?**  
A) Плоская сеть с VLAN  
B) Традиционная сегментация на основе периметра  
C) Микросегментация с использованием service mesh и mTLS **(✓)**  
D) Единая подсеть с внутренними фаерволами  

✅ **Обоснование:**  
В **Zero Trust** традиционные периметры теряют смысл. **Микросегментация через service mesh** (например, Istio, Linkerd) с **mTLS** обеспечивает **контроль на уровне соединений между сервисами**, что соответствует принципу "никогда не доверяй, всегда проверяй".

---

**2. Какой из следующих аспектов моделирования угроз (threat modeling) наиболее критичен при проектировании распределённой системы с высокой степенью доверия к данным?**  
A) Перечисление угроз по модели STRIDE  
B) Создание DFD (диаграммы потоков данных)  
C) Приоритизация рисков и анализ воздействия **(✓)**  
D) Построение дерева атак  

✅ **Обоснование:**  
Хотя все перечисленные — важные части threat modeling, **оценка рисков и анализа воздействия (risk prioritization)** — ключ к **рациональному распределению ресурсов** на защиту. Это особенно важно в системах с высокими требованиями к безопасности.

---

**3. Какой из следующих принципов архитектуры лучше всего поддерживает реализацию принципа "наименьших привилегий" (least privilege) в облачной среде?**  
A) Монолитная архитектура  
B) Бессерверные функции с детализированными политиками IAM **(✓)**  
C) Модель совместного хостинга  
D) Однотенантное развертывание на физических серверах  

✅ **Обоснование:**  
**Бессерверные функции** с **точными политиками IAM** позволяют выдавать минимально необходимые права **на уровне функции**, что идеально соответствует принципу **least privilege**. Это сложнее реализовать в монолитах или shared-средах.

---

**4. Какой из следующих аспектов является основным вызовом при реализации Zero Trust в устаревших (legacy) системах?**  
A) Отсутствие современных алгоритмов шифрования  
B) Отсутствие облачных инструментов  
C) Невозможность реализовать детализированный контроль доступа в масштабе **(✓)**  
D) Высокая стоимость нового оборудования  

✅ **Обоснование:**  
**Legacy-системы** часто не поддерживают современные протоколы (mTLS, fine-grained auth), и их архитектура не позволяет легко внедрить **контроль доступа на уровне запроса**. Это делает масштабирование Zero Trust крайне сложным.

---

**5. Какой из следующих паттернов архитектуры обеспечивает наилучшую защиту от атак типа "утечка данных" (data exfiltration)?**  
A) Монолит с централизованным логированием  
B) Микросервисы с прокси-контейнерами (sidecar) и контролем исходящего трафика **(✓)**  
C) SOA с ESB (Enterprise Service Bus)  
D) Одноранговая (peer-to-peer) сеть  

✅ **Обоснование:**  
**Sidecar proxy** (например, Envoy в Istio) позволяет **контролировать весь входящий и исходящий трафик** микросервиса, включая **исходящий трафик (egress)**. Это позволяет **фильтровать и логировать** подозрительные попытки утечки данных.

---

**6. Какой из следующих аспектов является критически важным при проектировании системы с высокими требованиями к доступности и безопасности?**  
A) Механизмы безопасности с принципом "открыт по умолчанию" (fail-open)  
B) Избыточные уровни безопасности с принципом "безопасен по умолчанию" (fail-safe) **(✓)**  
C) Только централизованная аутентификация  
D) Однофакторная аутентификация  

✅ **Обоснование:**  
**Fail-safe defaults** гарантируют, что система **останется в безопасном состоянии** даже при сбое. При этом **избыточные (redundant) уровни защиты** обеспечивают **высокую доступность** и защиту от единичных точек отказа.

---

**7. Что является основным архитектурным вызовом при интеграции сторонних SaaS-решений в среду Zero Trust?**  
A) Отсутствие шифрования при передаче  
B) Невозможность обеспечить единые политики идентификации и доступа на границах доверия **(✓)**  
C) Высокая задержка вызовов API  
D) Использование проприетарных протоколов  

✅ **Обоснование:**  
Внешние SaaS-сервисы находятся **вне зоны доверия**. Интеграция их в Zero Trust требует **единых политик идентификации и доступа**, что сложно реализовать из-за разрозненности систем и отсутствия контроля над их инфраструктурой.

---

**8. Какой из следующих подходов наиболее эффективно защищает систему от атак на уровне приложения (L7)?**  
A) Только сетевые фаерволы  
B) WAF + API-шлюз с валидацией схем и ограничением скорости (rate limiting) **(✓)**  
C) IDS/IPS на сетевом уровне  
D) Мощный периметровый фаервол  

✅ **Обоснование:**  
Атаки уровня приложения (OWASP Top 10) требуют **защиты на уровне логики приложения**. **WAF + API Gateway** с **валидацией схем и рейт-лимитингом** обеспечивают **глубокую защиту** от инъекций, переполнений и злоупотреблений.

---

**9. Какой из следующих аспектов является наиболее сложным при реализации "многоуровневой защиты" (defense in depth) в гибридной облачной архитектуре?**  
A) Единое применение политик безопасности в локальной и облачной средах **(✓)**  
B) Выбор правильного облачного провайдера  
C) Шифрование данных при передаче  
D) Реализация системы SIEM  

✅ **Обоснование:**  
В **гибридной среде** сложно обеспечить **единый подход к политикам безопасности** — между локальной инфраструктурой и облаком. Это требует унификации инструментов, политик и управления доступом.

---

**10. Какой из следующих подходов к управлению секретами наиболее безопасен в динамической среде контейнеров (Kubernetes)?**  
A) Хранение секретов в ConfigMaps  
B) Внедрение секретов через init-контейнеры  
C) Использование внешней системы управления секретами с автоматической ротацией и доступом по запросу (just-in-time) **(✓)**  
D) Монтирование секретов как переменных окружения  

✅ **Обоснование:**  
**Внешние системы управления секретами** (например, HashiCorp Vault, AWS Secrets Manager) с **автоматической ротацией и JIT-доступом** обеспечивают **наибольшую безопасность** в динамичной среде, где контейнеры часто создаются и уничтожаются.

---

Этот квиз подходит:
- Для **проверки уровня senior-архитектора**,
- Для подготовки к **сложным техническим интервью**,
- Для **углубления понимания** архитектурных решений в области ИБ.
